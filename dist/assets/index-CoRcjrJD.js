(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const l="aeedae3fa8674e6084b8ad7a9f7c3a97";var c=(t=>(t.General="general",t.Business="business",t.Entertainment="entertainment",t.Health="health",t.Science="science",t.Sports="sports",t.Technology="technology",t))(c||{});const u=document.getElementById("input-field"),d=document.getElementById("filter-select"),p=document.getElementById("language-select"),f=document.getElementById("form");f.addEventListener("submit",t=>{t.preventDefault(),h()});function g(){const t=u.value;console.log("input value2filterfetch: ",t);const e="https://newsapi.org/v2/everything",r=`?q=${t}`,n=p.value,o=n==="0"?"":`&language=${n}`,s=d.value,i=s==="0"?"":`&sortBy=${s}`;return`${e}${r}&from=2024-06-08&to=2024-06-18${o}${i}&apiKey=${l}`}function h(){console.log("fetchArticles");let t=[];fetch(g()).then(e=>{if(!e.ok)throw Error(`${e.status} ${e.statusText}`);return e.json()}).then(e=>e.articles).then(e=>{t=e,a(e),console.log("AllArticles:",t)}).catch(e=>{console.error(e);const r=document.getElementById("output");if(r){let n='<div class="errorCard-wrapper"><div class="errorCard">Not possible! A minimum of one searchparameter is required</div></div>';return r.innerHTML=n," output.innerHTML= errorCard "}})}function a(t){const e=document.getElementById("output");if(e)if(t.length){let r=t.map(n=>{const o=n.urlToImage??"../src/assets/img/elementor-placeholder-image.png",s=n.description??" ";return`
    <div class="card">
    <div class="img-wrapper">
     <img  src='${o}' alt="NewsImage">
    </div>
 <h2>${n.title}</h2>
 <p id=description-paragraph">${s}</p>
 <div class="author-wrapper">
 <p id=author-paragraph">${n.author}</p>
 <p id=published-paragraph">${n.publishedAt}</p>
 </div>
 <a href='${n.url}'target="blank">
<button id="card-btn" >Read more</button>
</a>
    </div> 
    `});e.innerHTML=r.toString()}else console.error("No matches found"),e.innerHTML='<div class="errorCard-wrapper"><div class="errorCard">No matches found, Please try again!</div></div>'}const m=[c.Business,c.Entertainment,c.General,c.Health,c.Science,c.Sports,c.Technology];function E(){const t=document.getElementById("category-button-field");t&&m.forEach(e=>{const r=document.createElement("Button");r.className="category-btn",r.innerHTML=`${e.toUpperCase()}`,t.appendChild(r),r.addEventListener("click",n=>{console.log("clicked"),n.preventDefault(),y(e)})})}function v(t){const e="https://newsapi.org/v2/top-headlines",r=`category=${t}`,n=`${e}?${r}&apiKey=${l}`;return console.log(n),n}function y(t){console.log("fetchTOPArticles");let e=[];fetch(v(t)).then(r=>{if(!r.ok)throw Error(`${r.status} ${r.statusText}`);return r.json()}).then(r=>r.articles).then(r=>{e=r,a(r),console.log("AllArticles:",e)}).catch(r=>{console.error(r);const n=document.getElementById("output");if(n){let o='<div class="ErrorCard">FEHLER</div>';return n.innerHTML=o," output.innerHTML= errorCard "}})}E();
